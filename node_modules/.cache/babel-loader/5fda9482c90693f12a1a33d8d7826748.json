{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/malek/Desktop/web/react-try/descovery/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/malek/Desktop/web/react-try/descovery/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useRef,useContext}from\"react\";import\"./LogInStyle.css\";import AuthContext from'../context/authContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogIn=function LogIn(){var emailRef=useRef();var passwdRef=useRef();var auth=useContext(AuthContext);var authSubmitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var logInData,responseData,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();logInData={email:emailRef.current.value,password:passwdRef.current.value};console.log(logInData.email+\" \"+logInData.password);_context.prev=3;_context.next=6;return fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"employee/login\"),{method:'POST',body:JSON.stringify(logInData),headers:{'Content-Type':'application/json'}});case 6:responseData=_context.sent;_context.next=9;return responseData.json();case 9:data=_context.sent;console.log(data);console.log(responseData.status);auth.token=data.token;auth.login(data.Employee,data.token);auth.EmployeeId=data.Employee;console.log(auth.EmployeeId+\" : DONNE LKOL \");console.log(auth.EmployeeId.nom+\" : el nom bark \");_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](3);console.log(\"mamchetech el check mta el login\"+_context.t0);case 22:case\"end\":return _context.stop();}}},_callee,null,[[3,19]]);}));return function authSubmitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"table\",{className:\"nav\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{children:[\" \",/*#__PURE__*/_jsx(\"img\",{alt:\"\",className:\"logo\",src:\"images/oyemkemlavert.png\"})]}),/*#__PURE__*/_jsx(\"th\",{className:\"accueil\",children:\"Accueil\"})]})})}),/*#__PURE__*/_jsxs(\"section\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"sign\",children:\"Se Connecter\"}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",className:\"image\",src:\"images/oyemvertblanc.jpg\"})}),/*#__PURE__*/_jsxs(\"th\",{children:[/*#__PURE__*/_jsx(\"form\",{className:\"form1\"}),/*#__PURE__*/_jsx(\"input\",{className:\"email \",name:\"email\",type:\"email\",align:\"center\",placeholder:\"Email\",ref:emailRef}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"pass\",type:\"password\",align:\"center\",placeholder:\"Mot De Passe\",ref:passwdRef})}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"submit\",onClick:authSubmitHandler,align:\"center\",children:\"Se Connecter\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"forgot \",align:\"center \",children:/*#__PURE__*/_jsx(\"a\",{alt:\"\",href:\"Reset password \",children:\"Mot De Passe Oubli\\xE9?\"})})})]})]})})]})]});};export default LogIn;","map":{"version":3,"sources":["C:/Users/malek/Desktop/web/react-try/descovery/src/coach/LogInEmployee.js"],"names":["useRef","useContext","AuthContext","LogIn","emailRef","passwdRef","auth","authSubmitHandler","event","preventDefault","logInData","email","current","value","password","console","log","fetch","process","env","REACT_APP_BACKEND_URL","method","body","JSON","stringify","headers","responseData","json","data","status","token","login","Employee","EmployeeId","nom"],"mappings":"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","sourcesContent":["import { useRef, useContext } from \"react\";\r\nimport \"./LogInStyle.css\";\r\nimport  AuthContext  from '../context/authContext';\r\n\r\nconst LogIn =  () => {\r\n  const emailRef = useRef();\r\n  const passwdRef = useRef();\r\n  const auth = useContext(AuthContext);\r\n  const authSubmitHandler = async event => {\r\n    event.preventDefault();\r\n    const logInData = {\r\n      email: emailRef.current.value,\r\n      password: passwdRef.current.value,\r\n    };\r\n    console.log(logInData.email +\" \"+ logInData.password );\r\n      try {\r\n        const responseData = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}employee/login`,\r\n          {\r\n            method : 'POST',\r\n            body : JSON.stringify(logInData),\r\n            headers : {\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n                                     \r\n        const data = await responseData.json();\r\n        console.log(data);\r\n        console.log(responseData.status);\r\n        auth.token = data.token ;\r\n        \r\n        \r\n\r\n\r\n        auth.login(data.Employee, data.token);\r\n        auth.EmployeeId = data.Employee  ;\r\n        console.log(auth.EmployeeId + \" : DONNE LKOL \");\r\n        console.log(auth.EmployeeId.nom + \" : el nom bark \");\r\n      } catch (err) {\r\n            console.log(\"mamchetech el check mta el login\" + err);\r\n      }\r\n    \r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <header>\r\n        <table className=\"nav\">\r\n          <tr>\r\n            <th>\r\n              {\" \"}\r\n              <img alt=\"\" className=\"logo\" src=\"images/oyemkemlavert.png\" />\r\n            </th>\r\n            <th className=\"accueil\">Accueil</th>\r\n          </tr>\r\n        </table>\r\n      </header>\r\n\r\n      <section className=\"main\">\r\n        <p className=\"sign\">Se Connecter</p>\r\n\r\n        <table>\r\n          <tr>\r\n            <th>\r\n              <img alt=\"\" className=\"image\" src=\"images/oyemvertblanc.jpg\" />\r\n            </th>\r\n            <th>\r\n              <form className=\"form1\" />\r\n              <input\r\n                className=\"email \"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                align=\"center\"\r\n                placeholder=\"Email\"\r\n                ref={emailRef}\r\n              />\r\n\r\n              <div>\r\n                <input\r\n                  className=\"pass\"\r\n                  type=\"password\"\r\n                  align=\"center\"\r\n                  placeholder=\"Mot De Passe\"\r\n                  ref={passwdRef}\r\n                />\r\n              </div>\r\n              <a href=\"/\"   className=\"submit\" onClick={authSubmitHandler} align=\"center\">\r\n                Se Connecter\r\n              </a>\r\n              <br />\r\n              <br />\r\n\r\n              <div>\r\n                <p className=\"forgot \" align=\"center \">\r\n                  <a alt=\"\" href=\"Reset password \">\r\n                    Mot De Passe Oubli√©?\r\n                  </a>\r\n                </p>\r\n              </div>\r\n            </th>\r\n          </tr>\r\n        </table>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogIn ;\r\n"]},"metadata":{},"sourceType":"module"}